datacat:
  client.url: http://localhost:3000
  auth:
    secret: change-this-in-production
    issuer: datacat.local
  users:
    admin:
      firstName: datacat
      lastName: Admin
      email: admin@datacat.local
      password: s3cret
      roles:
        - ADMIN
        - USER
        - READONLY
  mail.from: postmaster@localhost

spring:
  graphql:
    http:
      path: /graphql
    cors:
      allow-credentials: true
      allowed-methods: POST
      allowed-origin-patterns:
      - "*"
      allowed-headers:
      - Authorization
      - Cache-Control
      - Content-Type
      - apollographql-client-name
      - apollographql-client-version
    graphiql:
      enabled: true
      path: /graphiql
    schema:
      inspection:
        enabled: true
  threads:
    virtual:
      enabled: true
  task:
    execution:
      simple:
        concurrency-limit: 200
  mvc:
    async:
      request-timeout: 300000  # 5 Minuten für Graph-Queries
  neo4j:
    pool:
      max-connection-pool-size: 150  # Erhöht für große Batch-Abfragen
      connection-acquisition-timeout: 90s  # Erhöht für parallele Requests
      max-connection-lifetime: 30m
      idle-time-before-connection-test: 15s
      metricsEnabled: true
      max-acquisition-queue-size: 1000  # Größere Queue für parallele GraphQL Requests
    connection-timeout: 90s  # Erhöht für Graph-Queries mit vielen Objekten
    max-transaction-retry-time: 30s
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8091/realms/datacat
          jwk-set-uri: http://keycloak:8080/realms/datacat/protocol/openid-connect/certs

logging:
  level: 
    org.springframework.data.neo4j.cypher.unrecognized: ERROR
    # org.springframework.data.neo4j.repository.query: DEBUG
    # org.neo4j.driver: DEBUG
    # org.springframework: DEBUG


